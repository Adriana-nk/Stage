<ion-header class="header-custom">
  <ion-toolbar>
    <ion-title class="title-poppins">Mes Favoris</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="favoris-content">

  <!-- SI AUCUN FAVORI -->
  <div class="empty-state" *ngIf="favoris.length === 0">
    <img src="assets/icon/empty-favoris.png" alt="Aucun favori" />
    <p>Vous n’avez encore ajouté aucun produit en favoris.</p>
  </div>

  <!-- LISTE DES FAVORIS -->
  <ion-list *ngIf="favoris.length > 0">
    <ion-item *ngFor="let produit of favoris" class="favori-card">

      <!-- IMAGE -->
      <ion-thumbnail slot="start" class="image-thumb">
        <img [src]="produit.image_url" [alt]="produit.nom" />
      </ion-thumbnail>

      <!-- INFOS PRODUIT -->
      <ion-label>
        <h2 class="title-poppins">{{ produit.nom }}</h2>
        <p class="prix">{{ produit.prix | number }} FCFA</p>
        <p class="stock" *ngIf="produit.stock">Stock: {{ produit.stock }}</p>
      </ion-label>

      <!-- COEUR POUR AJOUTER OU RETIRER DES FAVORIS -->
<ion-button
  fill="clear"
  color="danger"
  size="small"
  slot="end"
  (click)="toggleFavoris(produit)"
>
  <i [class]="produit.favori ? 'fas fa-heart' : 'far fa-heart'" 
     style="font-size: 24px; color: red;"></i>
</ion-button>



    </ion-item>
  </ion-list>

</ion-content>

<app-acheteur-footer></app-acheteur-footer>
